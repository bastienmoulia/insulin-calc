{"version":3,"file":"src_app_settings_settings_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAER;AAE/C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wDAAY;KACxB;CACF,CAAC;IAMW,yBAAyB,SAAzB,yBAAyB;CAAG;AAA5B,yBAAyB;IAJrC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBG;AACM;AACF;AAEA;AAEyB;AAEvB;IAMlC,kBAAkB,SAAlB,kBAAkB;CAAG;AAArB,kBAAkB;IAJ9B,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,yDAAY,EAAE,uDAAW,EAAE,uDAAW,EAAE,+EAAyB,CAAC;QAC5E,YAAY,EAAE,CAAC,wDAAY,CAAC;KAC7B,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACdmB;AACe;IAOpD,YAAY,SAAZ,YAAY;IACvB,YAAmB,OAAuB;QAAvB,YAAO,GAAP,OAAO,CAAgB;IAAG,CAAC;IAE9C,QAAQ,KAAI,CAAC;IAEP,uBAAuB;;YAC3B,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QAC9E,CAAC;KAAA;IAEK,0BAA0B;;YAC9B,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CACpB,sBAAsB,EACtB,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAClC,CAAC;QACJ,CAAC;KAAA;IAED,OAAO;QACL,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QACpD,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED,UAAU,CAAC,KAAa;QACtB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAEK,SAAS;;YACb,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACtD,CAAC;KAAA;CACF;;YApCQ,yEAAc;;AAOV,YAAY;IALxB,wDAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,4KAAmC;;KAEpC,CAAC;GACW,YAAY,CA6BxB;AA7BwB;;;;;;;;;;;;;;;ACRzB,iEAAe,ioCAAioC,o8BAAo8B","sources":["./src/app/settings/settings-routing.module.ts","./src/app/settings/settings.module.ts","./src/app/settings/settings.page.ts","./src/app/settings/settings.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SettingsPage } from './settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SettingsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPageRoutingModule } from './settings-routing.module';\n\nimport { SettingsPage } from './settings.page';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, SettingsPageRoutingModule],\n  declarations: [SettingsPage],\n})\nexport class SettingsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { StorageService } from '../core/storage/storage.service';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss'],\n})\nexport class SettingsPage implements OnInit {\n  constructor(public storage: StorageService) {}\n\n  ngOnInit() {}\n\n  async bloodGlucoseUnitsChange() {\n    await this.storage.set('bloodGlucoseUnits', this.storage.bloodGlucoseUnits);\n  }\n\n  async insulinUnitsAccuracyChange() {\n    await this.storage.set(\n      'insulinUnitsAccuracy',\n      this.storage.insulinUnitsAccuracy\n    );\n  }\n\n  addMeal() {\n    this.storage.meals.push({ name: 'Repas', coef: 1 });\n    this.saveMeals();\n  }\n\n  deleteMeal(index: number) {\n    this.storage.meals.splice(index, 1);\n    this.saveMeals();\n  }\n\n  async saveMeals() {\n    await this.storage.set('meals', this.storage.meals);\n  }\n}\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Réglages</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-item>\\n    <ion-label>Unités de glycémie</ion-label>\\n    <ion-select\\n      [(ngModel)]=\\\"storage.bloodGlucoseUnits\\\"\\n      (ngModelChange)=\\\"bloodGlucoseUnitsChange()\\\"\\n    >\\n      <ion-select-option value=\\\"mgdl\\\">mg/dL</ion-select-option>\\n      <ion-select-option value=\\\"gl\\\">g/L</ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n  <ion-item class=\\\"ion-margin-top\\\">\\n    <ion-label>Précision des unités d'insuline</ion-label>\\n    <ion-select\\n      [(ngModel)]=\\\"storage.insulinUnitsAccuracy\\\"\\n      (ngModelChange)=\\\"insulinUnitsAccuracyChange()\\\"\\n    >\\n      <ion-select-option value=\\\"0\\\">1</ion-select-option>\\n      <ion-select-option value=\\\"1\\\">0.1</ion-select-option>\\n      <ion-select-option value=\\\"2\\\">0.01</ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n  <hr />\\n  <ion-grid>\\n    <ion-row *ngFor=\\\"let meal of storage.meals; let index = index\\\">\\n      <ion-col>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Nom du repas</ion-label>\\n          <ion-input\\n            [(ngModel)]=\\\"meal.name\\\"\\n            (ngModelChange)=\\\"saveMeals()\\\"\\n          ></ion-input>\\n        </ion-item>\\n      </ion-col>\\n      <ion-col>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Coefficient du repas</ion-label>\\n          <ion-input\\n            [(ngModel)]=\\\"meal.coef\\\"\\n            (ngModelChange)=\\\"saveMeals()\\\"\\n            type=\\\"number\\\"\\n          ></ion-input>\\n        </ion-item>\\n      </ion-col>\\n      <ion-col size=\\\"auto\\\">\\n        <ion-button fill=\\\"clear\\\" color=\\\"danger\\\" (click)=\\\"deleteMeal(index)\\\">\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"close-circle-outline\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-button (click)=\\\"addMeal()\\\">Ajouter un repas</ion-button>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}